<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<script src="lib/underscore.js"> </script>
		<script src="src/core.js"> </script>
		<script src="src/positional.js"> </script>		
	</head>
	<body>
		<canvas id="canvas"></canvas>

		<script>		
		var positionals=[];
		var canvasWidth=window.innerWidth;
		var canvasHeight=window.innerHeight;		
		
		function newRandomPositional(){
			var o = new core.WorldObject();
			positional.makeItPositional(o);
			o.characteristics.positional.x=(Math.random()*10000)%canvasWidth;
			o.characteristics.positional.y=(Math.random()*10000)%canvasHeight;
			return o;
		}
		
		for (var i=0;i<50;i++){
			positionals.push(newRandomPositional());
		}
		
		function renderOnCanvas(){
			var c=document.getElementById("canvas");
			c.width=canvasWidth;
			c.height=canvasHeight;
			var ctx=c.getContext("2d");
			ctx.fillStyle="#000000";
			ctx.fillRect(0,0,canvasWidth,canvasHeight);

			ctx.fillStyle="#FF0000";
			ctx.strokeStyle = "orange";			
			core.log(positionals);

			_.each(positionals, function(o){
			core.log(o);				
				var x = o.characteristics.positional.x;
				var y = o.characteristics.positional.y;
				ctx.fillRect(x,y,10,10);				
				ctx.arc(x, y, 3, 0, 360);
			});			
		}
		renderOnCanvas();
		</script>
	</body>
</html>